---
layout: default
permalink: /projects/siriOpenTinder/
---

<style>

.line {
	stroke: #000;
	stroke-width: 1.5px;
	stroke-linecap: round;
}

.line--inactive {
	stroke: #ddd;
	stroke-width: 1px;
}



#cardContainer {
	width: 200px;
	height: 100px;
	top: 0px;
	left: 0px;
	position: relative;
	background-color: black;
}

.card {
	width: 25px;
	height: 25px;
	top: 0px;
	margin: 5px;
	padding: 15px;
}

#card1 {
	background-color: red;
}

#card2 {
	background-color: orange;
}

#card3 {
	background-color: yellow;
}

#card4 {
	background-color: green;
}

#card5 {
	background-color: blue;
}

#shuffleResult {
	position: relative;
}

#cardCanvas, #cardCanvas2 {
	width: 300px;
	height: 100vh;
	/*border: 1px solid black;*/
}

</style>

<!-- <script src="https://d3js.org/d3.v4.min.js"></script> -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<!--<script src="/assets/js/siriOpenTinder.js"></script> -->

<h2 id = "siriTitle"> siri, open Tinder </h2>



<!-- <canvas id = "cardCanvas"> </canvas> -->

<div class = "row">
	<div class = "col-6 col-m-6 col-sm-6">

		<div class = "row">
			<div class = "col-3 col-m-3 col-sm-3">
				<button class="playbutton" id = "play" onclick = "start()"> shuffle me </button>
			</div>

			<div class = "col-3 col-m-3 col-sm-3">
				<button class="playbutton" id = "play" onclick = "addCard()"> add card </button>
			</div>
		</div>

		<div id="cardContainer col-3 col-m-3 col-sm-3">
			<div class= "row">
				<div class = "card col-sm-2" id = "card1"> <p> 1 </p> </div>
				<div class = "card col-sm-2" id = "card2"> <p> 2 </p> </div>
				<div class = "card col-sm-2" id = "card3"> <p> 3 </p> </div>
				<div class = "card col-sm-2" id = "card4"> <p> 4 </p> </div>
				<div class = "card col-sm-2" id = "card5"> <p> 5 </p> </div>
			</div>
		</div>

		<div id = "shuffleResult">
			<p> The initial array is <span id= "demo"> </span> </p>
		</div>
	</div>

	<div class = "col-4 col-m-4 col-sm-4">
		<canvas id = "cardCanvas"> </canvas>
	</div>

	
	<!-- <div class = "col-4 col-m-4 col-sm-4">
		<canvas id = "cardCanvas2"> </canvas>
	</div> -->
</div>


<script>


/* siriOpenTinder.js */

//var canvas = document.getElementById('canvas');
var ctx = document.getElementById('cardCanvas').getContext('2d');

var cards = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]; 


var testCards = [];


//var width = canvas.width;
//var height = canvas.height;

function Card(x, y, width, height, color, id) {
	this.x = x;
	this.y = y;
	this.width = width;
	this.height = height;
	this.color = color;
	this.id = id;
}

Card.prototype.draw = function(){
	ctx.beginPath();
	ctx.rect(this.x, this.y, this.width, this.height);
	ctx.closePath();
	ctx.fillStyle = this.color;
	ctx.fill();
};


Card.prototype.update = function(){
	this.y = this.y + 10;
	/*var numCards = testCards.length;
	var nextHeight = 1 + (Math.floor(numCards / 20));
	nextHeight = nextHeight * 10;
	this.y = this.y + nextHeight;*/
};

/*
function Buffer(array){

}

*/



document.getElementById("demo").innerHTML = cards + "</br>";

function start(){
	var cardsText = "";

	function shuffle(array){
		var m = array.length, t, i;

		while (m) {
			i = Math.floor(Math.random()  * m--);

			t = array[m];
			array[m] = array[i];
			array[i] = t;
		}
		return array;
	}
	cards = shuffle(cards);

	console.log(testCards[0].color);
	testCards = shuffle(testCards);
	console.log(testCards[0].color);

	cardsText = "The shuffled array is " + cards + "</br>"
	document.getElementById("demo").innerHTML += cardsText ;

	redraw(testCards);
}




function addCard() {

	var nextIndex = (cards.length);
	var nextWidth = (cards.length % 20);
	var nextHeight = 1 + (Math.floor(nextIndex / 20));
	//var nextWidth = (nextIndex-1);
	var newCard = new Card(
		(10 * nextWidth),
		(10 * nextHeight),
		10,
		10,
		'rgb(' + random(0,255) + ',' + random(0,255) + ',' + random(0,255) + ')',
		nextIndex
	)
	testCards.push(newCard);
	testCards[nextIndex].draw();
	//testCards[nextIndex].update();


	var nextNumCard = nextIndex + 1;
	cards.push(nextIndex);
	cardsUpdateText = "The new array is now " + cards + "</br>"
	document.getElementById("demo").innerHTML += cardsUpdateText ;


	//loop();
}

/*
function shiftCards() {
	var newLength = (cards.length);
	for(var i=0; i < newLength; i++){
		testCards[i].update();
	}
}
*/

function redraw(array) {
	ctx.save();
	ctx.translate(0, 10);
	//ctx.clearRect(0, 0, 300, 300);
	ctx.fillStyle = 'rgba(0, 0, 0, 0.01)';
	ctx.fillRect(0, 0, 200, 200);

	var nextNewIndex = (cards.length);
	//var nextNewLength = nextNewIndex*2;
	//var nextNewWidth = (cards.length % 20);
	var nextNewHeight = (Math.floor(nextNewIndex / 20));

	console.log(testCards.length);

	//ctx.save();
	for(var i=0; i < nextNewIndex; i++){
		//testCards[i].draw();
		
		//ctx.translate(0, 10);
		//testCards[i].update();
		testCards[i].draw();
		//ctx.restore();
		//testCards[i].update();
		//testCards[i].draw();
		console.log(testCards[i].color);
	}
	ctx.restore();
}
//redraw();

// random function ported from: 
// https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Object_building_practice

function random(min, max){
	var num = Math.floor(Math.random() * (max - min + 1)) + min;
	return num;
}



function deck() {
	ctx.save();
	ctx.clearRect(0, 0, 300, 300);
	ctx.fillStyle = 'rgba(0, 0, 0, 0.01)';
	ctx.fillRect(0, 0, 200, 200);

	var blockSize = 20;
	var nextNewIndex = (cards.length);
	var nextNewWidth = (cards.length % 20);
	var nextNewHeight = (Math.floor(nextNewIndex / 20));
	for (var j=0; j < blockSize; j++){
	//while(nextNewIndex < 21){
		var testCard = new Card(
			(10* j), 
			(10 * nextNewHeight), 
			10, 
			10, 
			'rgb(' + random(0,255) + ','  + random(0,255) + ',' + random(0, 255) + ')',
			//'rgb(' + (255 - (10*j)) + ',' + (0+ 10*j) + ',' + (0+ 10*j) + ')',
			j
		);
		testCards.push(testCard);
	}

	//console.log(testCards.length);
	ctx.save();
	for(var i=0; i < nextNewIndex; i++){
		//ctx.translate(0, 10);
		testCards[i].update();
		testCards[i].draw();
		console.log(testCards[i].color);
	}
	ctx.restore();

	ctx.restore();
}
deck();




</script>







<!--
<script>
	var canvas = document.querySelector('canvas');
	var ctx = canvas.getContext('2d');

	var cards = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]; 


	var testCards = [];


	//var width = canvas.width;
	//var height = canvas.height;

	function Card(x, y, width, height, color, id) {
		this.x = x;
		this.y = y;
		this.width = width;
		this.height = height;
		this.color = color;
		this.id = id;
	}

	Card.prototype.draw = function(){
		ctx.beginPath();
		ctx.rect(this.x, this.y, this.width, this.height);
		ctx.closePath();
		ctx.fillStyle = this.color;
		ctx.fill();
	};


	Card.prototype.update = function(){
		//this.y = this.y + 10;
		var numCards = testCards.length;
		var nextHeight = 1 + (Math.floor(numCards / 20));
		nextHeight = nextHeight * 10;
		this.y = this.y + nextHeight;
	};

	/*
	function Buffer(array){

	}

	*/



	document.getElementById("demo").innerHTML = cards + "</br>";
	
	function start(){
		var cardsText = "";

		function shuffle(array){
			var m = array.length, t, i;

			while (m) {
				i = Math.floor(Math.random()  * m--);

				t = array[m];
				array[m] = array[i];
				array[i] = t;
			}
			return array;
		}
		cards = shuffle(cards);
		//updateSpace();
		//loop();
		//shiftCards();
		console.log(testCards[0].color);
		testCards = shuffle(testCards);
		console.log(testCards[0].color);
		//checkCards();


		cardsText = "The shuffled array is " + cards + "</br>"
		document.getElementById("demo").innerHTML += cardsText ;


		redraw(testCards);
		//loop();
		//canvas.width = canvas.width + 50;
		//canvas.height = canvas.height + 50;
	}
	
 

	function updateSpace(array){
		var numCards = testCards.length;
		for(var i=0; i < numCards; i++){
			testCards[i].update();
			//testCards[i].update();
			//console.log(testCards[i].id);
		}
	}

	
/*
	function checkCards() {
		for(var i =0; i < testCards.length; i++){
			//console.log(testCards[i].color);
			console.log(testCards[i].id);
		}
	}
*/


	function addCard() {

		var nextIndex = (cards.length);
		var nextWidth = (cards.length % 20);
		var nextHeight = 1 + (Math.floor(nextIndex / 20));
		//var nextWidth = (nextIndex-1);
		var newCard = new Card(
			(10 * nextWidth),
			(10 * nextHeight),
			10,
			10,
			'rgb(' + random(0,255) + ',' + random(0,255) + ',' + random(0,255) + ')',
			nextIndex
		)
		testCards.push(newCard);
		testCards[nextIndex].draw();
		//testCards[nextIndex].update();


		var nextNumCard = nextIndex + 1;
		cards.push(nextIndex);
		cardsUpdateText = "The new array is now " + cards + "</br>"
		document.getElementById("demo").innerHTML += cardsUpdateText ;


		//loop();
	}

/*
	function shiftCards() {
		var newLength = (cards.length);
		for(var i=0; i < newLength; i++){
			testCards[i].update();
		}
	}
*/

	function redraw(array) {
		ctx.fillStyle = 'rgba(0, 0, 0, 0.01)';
		ctx.fillRect(0, 0, 200, 200);
	
		var nextNewIndex = (cards.length);
		//var nextNewLength = nextNewIndex*2;
		//var nextNewWidth = (cards.length % 20);
		var nextNewHeight = (Math.floor(nextNewIndex / 20));

		console.log(testCards.length);

		for(var i=0; i < nextNewIndex; i++){
			//testCards[i].draw();
			ctx.save();
			ctx.translate(0, 10);
			testCards[i].update();
			testCards[i].draw();
			ctx.restore();
			//testCards[i].update();
			//testCards[i].draw();
			console.log(testCards[i].color);
		}
	}
	//redraw();

// random function ported from: 
// https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Object_building_practice
	
	function random(min, max){
		var num = Math.floor(Math.random() * (max - min + 1)) + min;
		return num;
	}



	function loop() {
		ctx.fillStyle = 'rgba(0, 0, 0, 0.01)';
		ctx.fillRect(0, 0, 200, 200);
	
		var blockSize = 20;
		var nextNewIndex = (cards.length);
		var nextNewWidth = (cards.length % 20);
		var nextNewHeight = (Math.floor(nextNewIndex / 20));
		for (var j=0; j < blockSize; j++){
		//while(nextNewIndex < 21){
			var testCard = new Card(
				(10* j), 
				(10 * nextNewHeight), 
				10, 
				10, 
				'rgb(' + random(0,255) + ','  + random(0,255) + ',' + random(0, 255) + ')',
				//'rgb(' + (255 - (10*j)) + ',' + (0+ 10*j) + ',' + (0+ 10*j) + ')',
				j
			);
			testCards.push(testCard);
		}

		//console.log(testCards.length);

		for(var i=0; i < nextNewIndex; i++){
			ctx.save();
			//ctx.translate(0, 10);
			testCards[i].update();
			testCards[i].draw();
			ctx.restore();
			//testCards[i].update();
			//testCards[i].draw();
			console.log(testCards[i].color);
			//console.log(testCards[i].y);
		}

		//requestAnimationFrame(loop);
	}
	loop();

</script>

-->

